<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Step into Crypto — 강의 노트</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7750877667877294" crossorigin="anonymous"></script>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=IBM+Plex+Mono:wght@300;400;600&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #050811;
    --surface: #0d1520;
    --surface2: #111d2e;
    --border: #1e3a5f;
    --accent: #00d4ff;
    --accent2: #ff6b35;
    --accent3: #7fff6b;
    --text: #c8dff5;
    --text-muted: #5a7a9a;
    --text-bright: #f0f8ff;
    --glow: 0 0 20px rgba(0, 212, 255, 0.25);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Noto Sans KR', sans-serif;
    font-weight: 300;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* GRID BACKGROUND */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
    background-size: 48px 48px;
    pointer-events: none;
    z-index: 0;
  }

  /* LAYOUT */
  .shell {
    position: relative;
    display: flex;
    min-height: 100vh;
  }

  /* MAIN */
  .main {
    flex: 1;
    height: 100vh;
    overflow-y: auto;
    padding: 0 40px 80px;
    max-width: 900px;
  }

  /* SIDEBAR */
  .sidebar {
    width: 280px;
    flex-shrink: 0;
    background: var(--surface);
    border-right: 1px solid var(--border);
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
  }

  .sidebar::-webkit-scrollbar { width: 4px; }
  .sidebar::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

  .sidebar-header {
    padding: 28px 20px 20px;
    border-bottom: 1px solid var(--border);
  }

  .logo {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    color: var(--accent);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 8px;
    opacity: 0.7;
  }

  .sidebar-title {
    font-family: 'Syne', sans-serif;
    font-size: 15px;
    font-weight: 800;
    color: var(--text-bright);
    line-height: 1.4;
  }

  /* PROGRESS */
  .progress-wrap {
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
  }

  .progress-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    color: var(--text-muted);
    letter-spacing: 2px;
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
  }

  .progress-bar-bg {
    height: 3px;
    background: var(--border);
    border-radius: 2px;
    overflow: hidden;
  }

  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent3));
    border-radius: 2px;
    transition: width 0.5s ease;
    width: 0%;
  }

  /* NAV */
  .nav-chapters {
    padding: 12px 0;
    flex: 1;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 20px;
    cursor: pointer;
    transition: all 0.2s;
    border-left: 3px solid transparent;
    font-size: 12px;
    color: var(--text-muted);
    font-family: 'Noto Sans KR', sans-serif;
    font-weight: 400;
  }

  .nav-item:hover { background: rgba(0, 212, 255, 0.05); color: var(--text); }
  .nav-item.active {
    border-left-color: var(--accent);
    color: var(--accent);
    background: rgba(0, 212, 255, 0.08);
    font-weight: 700;
    font-size: 13px;
  }
  .nav-item.done { color: var(--accent3); }
  .nav-item.done .nav-num { background: var(--accent3); color: var(--bg); }

  .nav-num {
    width: 22px;
    height: 22px;
    border-radius: 4px;
    background: var(--border);
    color: var(--text-muted);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
  }

  .nav-item.active .nav-num { background: var(--accent); color: var(--bg); }

  .nav-text { line-height: 1.3; }

  /* TOOLS SIDEBAR */
  .sidebar-made {
    padding: 12px 20px;
    border-top: 1px solid var(--border);
  }

  .sidebar-made a {
    display: flex;
    align-items: center;
    justify-content: space-between;
    text-decoration: none;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .sidebar-made a:hover { opacity: 1; }

  .sidebar-made-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .sidebar-made-name {
    display: flex;
    align-items: center;
    gap: 5px;
    font-family: 'Syne', sans-serif;
    font-size: 13px;
    font-weight: 700;
    color: var(--text-bright);
    border-bottom: 2px solid var(--accent2);
    padding-bottom: 1px;
  }

  .sidebar-made-name svg { color: var(--text-muted); transition: color 0.2s; }
  .sidebar-made a:hover .sidebar-made-name svg { color: var(--accent); }

  .sidebar-tools {
    padding: 16px 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 8px;
  }

  .tool-btn {
    flex: 1;
    padding: 8px 0;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-muted);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 1px;
  }

  .tool-btn:hover { border-color: var(--accent); color: var(--accent); }
  .tool-btn.active { border-color: var(--accent); color: var(--accent); background: rgba(0, 212, 255, 0.08); }

  #btn-quiz {
    border-color: var(--accent);
    color: var(--accent);
  }

  #btn-quiz:hover {
    background: rgba(0, 212, 255, 0.12);
  }

  #btn-glossary {
    border-color: var(--accent3);
    color: var(--accent3);
  }

  #btn-glossary:hover {
    background: rgba(127, 255, 107, 0.1);
  }

  /* HERO */
  .hero {
    padding: 60px 0 48px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 48px;
    position: relative;
  }

  .hero::after {
    content: 'CRYPTO';
    position: absolute;
    right: -20px;
    top: 30px;
    font-family: 'Syne', sans-serif;
    font-size: 120px;
    font-weight: 800;
    color: rgba(0, 212, 255, 0.03);
    letter-spacing: -5px;
    user-select: none;
  }

  .hero-tag {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 16px;
  }

  .hero-title {
    font-family: 'Syne', sans-serif;
    font-size: 36px;
    font-weight: 800;
    color: var(--text-bright);
    line-height: 1.2;
    margin-bottom: 16px;
  }

  .hero-title span { color: var(--accent); }

  .hero-desc {
    font-size: 14px;
    line-height: 1.8;
    color: var(--text-muted);
    max-width: 560px;
  }

  .hero-stats {
    display: flex;
    gap: 32px;
    margin-top: 28px;
  }

  .stat {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .stat-num {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 22px;
    color: var(--accent);
    font-weight: 600;
  }

  .stat-label {
    font-size: 11px;
    color: var(--text-muted);
    letter-spacing: 1px;
  }

  .hero-bottom {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    margin-top: 28px;
  }

  .made-by {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 4px;
    text-decoration: none;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .made-by:hover { opacity: 1; }

  .made-by-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .made-by-name {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: 'Syne', sans-serif;
    font-size: 15px;
    font-weight: 700;
    color: var(--text-bright);
    border-bottom: 2px solid var(--accent2);
    padding-bottom: 2px;
  }

  .made-by-name svg {
    color: var(--text-muted);
    transition: color 0.2s;
  }

  .made-by:hover .made-by-name svg { color: var(--accent); }

  /* CHAPTER */
  .chapter {
    margin-bottom: 64px;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeUp 0.5s forwards;
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }

  .chapter-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border);
  }

  .chapter-header-left {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    flex: 1;
  }

  .chapter-header-right {
    display: flex;
    align-items: flex-end;
    flex-direction: column;
    justify-content: flex-end;
    align-self: stretch;
    flex-shrink: 0;
  }

  .chapter-num-badge {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    background: var(--accent);
    color: var(--bg);
    padding: 4px 10px;
    border-radius: 4px;
    font-weight: 600;
    letter-spacing: 1px;
    flex-shrink: 0;
    margin-top: 4px;
  }

  .chapter-title-wrap {}

  .chapter-title {
    font-family: 'Syne', sans-serif;
    font-size: 22px;
    font-weight: 800;
    color: var(--text-bright);
    line-height: 1.3;
  }

  .chapter-subtitle {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 4px;
    font-family: 'IBM Plex Mono', monospace;
    letter-spacing: 1px;
  }

  /* COMPLETE CHECKBOX */
  .complete-btn {
    padding: 6px 12px;
    background: transparent;
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-muted);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 1px;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .complete-btn .check-icon {
    font-size: 11px;
    color: var(--accent3);
    transition: color 0.2s;
  }

  .complete-btn:hover { border-color: var(--accent3); color: var(--accent3); }
  .complete-btn:hover .check-icon { color: var(--accent3); }
  .complete-btn.done { border-color: var(--accent3); color: var(--accent3); background: rgba(127, 255, 107, 0.08); }
  .complete-btn.done .check-icon { color: var(--accent3); }

  /* KEY POINTS */
  .key-points {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 20px 24px;
    margin-bottom: 20px;
  }

  .key-points-title {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    color: var(--accent);
    letter-spacing: 3px;
    margin-bottom: 14px;
  }

  .key-point {
    display: flex;
    gap: 10px;
    padding: 8px 0;
    border-bottom: 1px solid rgba(30, 58, 95, 0.5);
    font-size: 13px;
    line-height: 1.6;
  }

  .key-point:last-child { border-bottom: none; }

  .kp-icon {
    color: var(--accent);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    flex-shrink: 0;
    margin-top: 3px;
  }

  /* SECTION */
  .section {
    margin-bottom: 28px;
  }

  .section-title {
    font-family: 'Syne', sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: var(--text-bright);
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .section-title::before {
    content: '';
    width: 3px;
    height: 16px;
    background: var(--accent2);
    border-radius: 2px;
  }

  .section-body {
    font-size: 13.5px;
    line-height: 1.85;
    color: var(--text);
  }

  /* TERM HIGHLIGHT */
  .term {
    color: var(--accent);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    background: rgba(0, 212, 255, 0.08);
    padding: 1px 6px;
    border-radius: 3px;
    cursor: help;
    position: relative;
    white-space: nowrap;
  }

  .term:hover .term-tip {
    display: block;
  }

  .term-tip {
    display: none;
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    background: var(--surface);
    border: 1px solid var(--accent);
    border-radius: 8px;
    padding: 10px 14px;
    width: 260px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 12px;
    color: var(--text);
    line-height: 1.6;
    z-index: 100;
    pointer-events: none;
    box-shadow: var(--glow);
    white-space: normal;
  }

  .term-tip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: var(--accent);
  }

  /* INFO CARD */
  .info-card {
    background: rgba(0, 212, 255, 0.05);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 8px;
    padding: 14px 18px;
    margin: 16px 0;
    font-size: 13px;
    line-height: 1.7;
  }

  .info-card.warn {
    background: rgba(255, 107, 53, 0.05);
    border-color: rgba(255, 107, 53, 0.3);
  }

  .info-card.success {
    background: rgba(127, 255, 107, 0.05);
    border-color: rgba(127, 255, 107, 0.2);
  }

  .card-tag {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 6px;
    color: var(--accent);
  }

  .info-card.warn .card-tag { color: var(--accent2); }
  .info-card.success .card-tag { color: var(--accent3); }

  /* TABLE */
  .comp-table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
    font-size: 12.5px;
  }

  .comp-table th {
    background: var(--surface2);
    padding: 10px 14px;
    text-align: left;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    letter-spacing: 2px;
    color: var(--accent);
    border-bottom: 1px solid var(--border);
    font-weight: 400;
  }

  .comp-table td {
    padding: 10px 14px;
    border-bottom: 1px solid rgba(30, 58, 95, 0.4);
    color: var(--text);
    line-height: 1.6;
    vertical-align: top;
  }

  .comp-table tr:hover td { background: rgba(0, 212, 255, 0.03); }

  .comp-table td:first-child {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    color: var(--text-muted);
    white-space: nowrap;
  }

  /* QUIZ MODE */
  .quiz-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(5, 8, 17, 0.95);
    z-index: 700;
    align-items: center;
    justify-content: center;
  }

  .quiz-overlay.open { display: flex; }

  .quiz-box {
    width: 560px;
    background: var(--surface);
    border: 0.5px solid var(--border);
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 40px 80px rgba(0,0,0,0.5);
    position: relative;
  }

  .quiz-close {
    position: absolute;
    top: 16px;
    right: 16px;
    background: none;
    border: 1px solid var(--border);
    color: var(--text-muted);
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
  }

  .quiz-close:hover { border-color: var(--accent2); color: var(--accent2); }

  .quiz-progress {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 10px;
    color: var(--accent);
    letter-spacing: 2px;
    margin-bottom: 24px;
  }

  .quiz-q {
    font-family: 'Syne', sans-serif;
    font-size: 18px;
    font-weight: 700;
    color: var(--text-bright);
    line-height: 1.5;
    margin-bottom: 24px;
    min-height: 60px;
  }

  .quiz-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 24px;
  }

  .quiz-opt {
    padding: 12px 16px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    color: var(--text);
    transition: all 0.2s;
    text-align: left;
  }

  .quiz-opt:hover { border-color: var(--accent); background: rgba(0, 212, 255, 0.05); }
  .quiz-opt.correct { border-color: var(--accent3); background: rgba(127, 255, 107, 0.1); color: var(--accent3); }
  .quiz-opt.wrong { border-color: var(--accent2); background: rgba(255, 107, 53, 0.1); color: var(--accent2); }

  .quiz-feedback {
    font-size: 13px;
    line-height: 1.7;
    min-height: 40px;
    color: var(--text-muted);
    margin-bottom: 20px;
  }

  .quiz-next {
    padding: 10px 24px;
    background: var(--accent);
    color: var(--bg);
    border: none;
    border-radius: 6px;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    cursor: pointer;
    font-weight: 600;
    transition: opacity 0.2s;
  }

  .quiz-next:hover { opacity: 0.85; }

  /* GLOSSARY PANEL */
  .glossary-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(5, 8, 17, 0.9);
    z-index: 700;
    justify-content: flex-end;
  }

  @media (max-width: 768px) {
    .glossary-overlay {
      top: 52px;
    }
  }

  .glossary-overlay.open { display: flex; }

  .glossary-panel {
    width: 420px;
    height: 100%;
    background: var(--surface);
    border-left: 0.5px solid var(--border);
    overflow-y: auto;
    padding: 32px 28px;
  }

  .glossary-panel::-webkit-scrollbar { width: 4px; }
  .glossary-panel::-webkit-scrollbar-thumb { background: var(--border); }

  .glossary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 28px;
  }

  .glossary-title {
    font-family: 'Syne', sans-serif;
    font-size: 20px;
    font-weight: 800;
    color: var(--text-bright);
  }

  .panel-close {
    background: none;
    border: 1px solid var(--border);
    color: var(--text-muted);
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
  }

  .panel-close:hover { border-color: var(--accent2); color: var(--accent2); }

  .glossary-search {
    width: 100%;
    padding: 10px 14px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    margin-bottom: 24px;
    outline: none;
    transition: border-color 0.2s;
  }

  .glossary-search:focus { border-color: var(--accent); }
  .glossary-search::placeholder { color: var(--text-muted); }

  .glossary-item {
    padding: 16px 0;
    border-bottom: 1px solid rgba(30, 58, 95, 0.4);
  }

  .g-term {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 13px;
    color: var(--accent);
    margin-bottom: 6px;
  }

  .g-def {
    font-size: 12.5px;
    line-height: 1.7;
    color: var(--text);
  }

  /* SCROLL TOP */
  .scroll-top {
    position: fixed;
    bottom: 32px;
    right: 32px;
    width: 40px;
    height: 40px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    z-index: 800;
    opacity: 0;
    pointer-events: none;
  }

  .scroll-top.visible { opacity: 1; pointer-events: all; }
  .scroll-top:hover { border-color: var(--accent); color: var(--accent); }

  /* FORMULA BOX */
  .formula {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 18px;
    color: var(--accent3);
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px 24px;
    text-align: center;
    margin: 16px 0;
    letter-spacing: 2px;
  }

  /* DIVIDER */
  .divider {
    height: 1px;
    background: linear-gradient(90deg, var(--border), transparent);
    margin: 20px 0;
  }

  /* HAMBURGER TOP BAR (mobile only) */
  .mobile-topbar {
    display: none;
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 52px;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    z-index: 600;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
  }

  .mobile-logo {
    font-family: 'Syne', sans-serif;
    font-size: 14px;
    font-weight: 800;
    color: var(--text-bright);
  }

  .mobile-logo span { color: var(--accent); }

  .hamburger {
    width: 36px;
    height: 36px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 5px;
    transition: border-color 0.2s;
  }

  .hamburger:hover { border-color: var(--accent); }

  .hamburger span {
    display: block;
    width: 16px;
    height: 1.5px;
    background: var(--text-muted);
    border-radius: 2px;
    transition: all 0.25s;
    transform-origin: center;
  }

  .hamburger.open span:nth-child(1) { transform: translateY(6.5px) rotate(45deg); background: var(--accent); }
  .hamburger.open span:nth-child(2) { opacity: 0; }
  .hamburger.open span:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); background: var(--accent); }

  /* SIDEBAR OVERLAY (mobile) */
  .sidebar-backdrop {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(5, 8, 17, 0.75);
    z-index: 400;
  }

  .sidebar-backdrop.open { display: block; }

  /* RESPONSIVE BREAKPOINTS */

  /* Tablet: 900px 이하 */
  @media (max-width: 900px) {
    .main {
      padding: 0 24px 80px;
    }
    .hero-title { font-size: 28px; }
    .hero::after { font-size: 80px; }
  }

  /* Mobile: 768px 이하 — 햄버거 모드 */
  @media (max-width: 768px) {
    .mobile-topbar { display: flex; }

    .sidebar {
      position: fixed;
      top: 0; left: 0;
      height: 100vh;
      z-index: 500;
      transform: translateX(-100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      width: 280px;
    }

    .sidebar.open {
      transform: translateX(0);
      box-shadow: 4px 0 40px rgba(0,0,0,0.5);
    }

    .shell {
      flex-direction: column;
    }

    .main {
      padding: 72px 16px 80px;
      max-width: 100%;
      height: auto;
      overflow-y: visible;
    }

    .hero { padding: 32px 0 32px; }
    .hero-title { font-size: 26px; }
    .hero::after { display: none; }
    .hero-desc { font-size: 13px; }

    .hero-bottom {
      flex-direction: column;
      align-items: flex-start;
      gap: 20px;
    }

    .made-by {
      align-items: flex-end;
      align-self: flex-end;
    }

    .sidebar {
      padding-top: 52px;
    }

    .chapter-title { font-size: 18px; }
    .chapter-header { flex-wrap: wrap; gap: 10px; }
    .chapter-header-right { align-self: flex-end; margin-top: 4px; }

    .scroll-top { bottom: 20px; right: 16px; }

    .quiz-box {
      width: calc(100vw - 32px);
      padding: 28px 20px;
    }

    .glossary-panel { width: 100vw; }

    .comp-table { font-size: 11.5px; }
    .comp-table th, .comp-table td { padding: 8px 10px; }
  }

  /* Small mobile: 420px 이하 */
  @media (max-width: 420px) {
    .hero-title { font-size: 22px; }
    .hero-stats { gap: 20px; }
    .stat-num { font-size: 18px; }
    .section-title { font-size: 14px; }
    .section-body { font-size: 13px; }
  }

  /* BOTTOM CTA */
  .bottom-cta {
    margin-top: 64px;
    padding: 48px 0 32px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .cta-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 16px 28px;
    border-radius: 10px;
    font-family: 'Syne', sans-serif;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    border: none;
  }

  .cta-btn-quiz {
    background: rgba(0, 212, 255, 0.08);
    border: 1px solid var(--accent);
    color: var(--accent);
  }

  .cta-btn-quiz:hover {
    background: rgba(0, 212, 255, 0.16);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 212, 255, 0.15);
  }

  .cta-btn-glossary {
    background: rgba(127, 255, 107, 0.06);
    border: 1px solid var(--accent3);
    color: var(--accent3);
  }

  .cta-btn-glossary:hover {
    background: rgba(127, 255, 107, 0.14);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(127, 255, 107, 0.12);
  }

  .cta-arrow {
    font-size: 16px;
    transition: transform 0.2s;
  }

  .cta-btn:hover .cta-arrow { transform: translateX(4px); }

  @media (max-width: 768px) {
    .bottom-cta { flex-direction: column; }
    .cta-btn { justify-content: center; }
  }

</style>
</head>
<body>

<!-- MOBILE TOP BAR -->
<div class="mobile-topbar">
  <div class="mobile-logo" style="cursor:pointer" onclick="history.scrollRestoration='manual';location.reload()">Step into <span>Crypto</span></div>
  <button class="hamburger" id="hamburger" aria-label="메뉴 열기">
    <span></span><span></span><span></span>
  </button>
</div>

<!-- SIDEBAR BACKDROP -->
<div class="sidebar-backdrop" id="sidebar-backdrop"></div>

<div class="shell">
  <!-- SIDEBAR -->
  <nav class="sidebar">
    <div class="sidebar-header" style="cursor:pointer" onclick="history.scrollRestoration='manual';location.reload()">
      <div class="logo">LECTURE NOTES</div>
      <div class="sidebar-title">Step into<br>Crypto</div>
    </div>

    <div class="progress-wrap">
      <div class="progress-label">
        <span>학습 진도</span>
        <span id="progress-pct">0%</span>
      </div>
      <div class="progress-bar-bg">
        <div class="progress-bar-fill" id="progress-fill"></div>
      </div>
    </div>

    <div class="nav-chapters" id="nav-chapters">
      <!-- injected by JS -->
    </div>

    <div class="sidebar-made">
      <a href="https://x.com/znwxyz" target="_blank">
        <span class="sidebar-made-label">made by</span>
        <span class="sidebar-made-name">Max8
          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.253 5.622 5.911-5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </span>
      </a>
    </div>

    <div class="sidebar-tools">
      <button class="tool-btn" id="btn-quiz">퀴즈</button>
      <button class="tool-btn" id="btn-glossary">용어집</button>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="main" id="main-content">
    <div class="hero">
      <div class="hero-tag">// BUSINESS EDUCATION</div>
      <h1 class="hero-title">Step into<br><span>Crypto</span></h1>
      <p class="hero-desc">블록체인 기술부터 DeFi, MEV, 스테이블코인까지 — 암호화폐 생태계의 핵심 원리를 체계적으로 정리한 강의 노트입니다. 용어에 마우스를 올려 설명을 확인하세요.</p>
      <div class="hero-bottom">
        <div class="hero-stats">
          <div class="stat">
            <span class="stat-num">15</span>
            <span class="stat-label">챕터</span>
          </div>
          <div class="stat">
            <span class="stat-num">80+</span>
            <span class="stat-label">핵심 용어</span>
          </div>
          <div class="stat">
            <span class="stat-num">10</span>
            <span class="stat-label">퀴즈 문제</span>
          </div>
        </div>
        <a href="https://x.com/znwxyz" target="_blank" class="made-by">
          <span class="made-by-label">made by</span>
          <span class="made-by-name">Max8
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.253 5.622 5.911-5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </span>
        </a>
      </div>
    </div>

    <!-- chapters injected by JS -->
    <div id="chapters-root"></div>

    <!-- BOTTOM CTA -->
    <div class="bottom-cta">
      <button class="cta-btn cta-btn-quiz" id="cta-quiz">
        퀴즈 풀러 가기 <span class="cta-arrow">→</span>
      </button>
      <button class="cta-btn cta-btn-glossary" id="cta-glossary">
        모르는 용어 찾으러 가기 <span class="cta-arrow">→</span>
      </button>
    </div>
</div>

<!-- QUIZ MODAL -->
<div class="quiz-overlay" id="quiz-overlay">
  <div class="quiz-box">
    <button class="quiz-close" id="quiz-close">✕</button>
    <div class="quiz-progress" id="quiz-prog">문제 1 / 10</div>
    <div class="quiz-q" id="quiz-q"></div>
    <div class="quiz-options" id="quiz-opts"></div>
    <div class="quiz-feedback" id="quiz-fb"></div>
    <button class="quiz-next" id="quiz-next">다음 문제 →</button>
  </div>
</div>

<!-- GLOSSARY PANEL -->
<div class="glossary-overlay" id="glossary-overlay">
  <div class="glossary-panel">
    <div class="glossary-header">
      <div class="glossary-title">핵심 용어집</div>
      <button class="panel-close" id="glossary-close">✕</button>
    </div>
    <input class="glossary-search" id="glossary-search" placeholder="용어 검색..." type="text" />
    <div id="glossary-list"></div>
  </div>
</div>

<button class="scroll-top" id="scroll-top">↑</button>

<script>
history.scrollRestoration = 'manual';
const CHAPTERS = [
  {
    num: "00",
    title: "머리말",
    subtitle: "왜 크립토를 이해해야 하는가",
    keyPoints: [
      "크립토는 '관리자 없는' 적대적 환경 — 실수에 대한 구제 없음",
      "편리함의 폭정 vs 절대 주권 — 트레이드오프 이해가 핵심",
      "비트코인은 '일상의 도구'가 아닌 시스템 붕괴 대비 '화재 보험'",
      "프로토콜은 도덕 판단을 안 함 — 스스로를 보호하는 기술이 필수"
    ],
    sections: [
      {
        title: "적대적 환경 (Adversarial Frontier)",
        body: `크립토 공간은 인류가 만든 가장 공격적인 자본주의와 무자비한 능력주의가 지배하는 세계입니다. 전통 금융에는 '<span class="term">관리자<span class="term-tip">은행, 카드사 등 분쟁 해결·복구를 담당하는 중앙 기관</span></span>'라는 안전망이 있지만, 크립토엔 없습니다. 자금을 잘못 보내면 영원히 사라지고, <span class="term">프라이빗 키<span class="term-tip">암호화폐 자산을 통제하는 비밀 난수. 이것을 잃으면 자산에 접근 불가</span></span>를 잃으면 자산도 사라집니다.`
      },
      {
        title: "편리함의 폭정 vs 절대 주권",
        body: `대부분의 사람들은 문제 발생 시 책임을 물을 수 있는 편리함을 원합니다. 애플페이가 잘 작동하는 안정된 민주주의 국가에서 <span class="term">시드 구문<span class="term-tip">12~24개의 영단어로 구성된 지갑 복구 비밀번호. 이것만 있으면 어떤 기기에서도 지갑 복원 가능</span></span>을 외우고 스스로 은행이 되는 것은 번거롭습니다. 그러나 캐나다 트럭 운전사 시위 당시 계좌 동결 사례처럼, 전통 금융 접근권은 언제든 철회될 수 있는 '특권'입니다.`,
        card: { type: "warn", tag: "핵심 역설", text: "비트코인의 주권은 필요 없을 때는 번거롭지만, 필요할 때는 유일한 탈출구가 됩니다. 집에 불이 나야 화재 보험의 가치를 압니다." }
      }
    ]
  },
  {
    num: "01",
    title: "비트코인",
    subtitle: "디지털 희소성의 탄생",
    keyPoints: [
      "2008년 금융위기의 반작용으로 탄생 — 중앙 금융 시스템에 대한 저항",
      "SHA-256 + PoW = 에너지를 소모해야 블록 생성 가능 → 공격 비용 상승",
      "2,100만 개 고정 공급 + 4년마다 반감기 = 디스인플레이션 자산",
      "UTXO 모델로 이중 지불 완벽 방지"
    ],
    sections: [
      {
        title: "탄생 배경과 작업 증명",
        body: `비트코인은 2009년 1월 3일, 익명의 창시자 <span class="term">사토시 나카모토<span class="term-tip">비트코인 창시자. 2010년 이후 종적을 감췄으며 신원 불명. 약 100만 개의 비트코인을 보유한 것으로 추정</span></span>가 만든 P2P 전자 현금 시스템입니다. 채굴자들은 <span class="term">SHA-256<span class="term-tip">어떤 데이터를 입력해도 고정 길이의 문자열로 변환하는 암호화 함수. 역추적 불가능</span></span> 해시 함수를 이용해 목표값보다 작은 결과를 찾는 퍼즐을 풀고, 성공하면 새로운 비트코인 보상을 받습니다. 이 과정을 <span class="term">작업 증명 (PoW)<span class="term-tip">Proof of Work. 컴퓨팅 연산력(전기 에너지)으로 블록 생성 권한을 얻는 방식</span></span>이라고 합니다.`
      },
      {
        title: "UTXO 모델과 공급 구조",
        body: `비트코인은 은행 계좌 방식이 아닌 <span class="term">UTXO<span class="term-tip">Unspent Transaction Output. 지갑에 잔액이 아닌 '사용되지 않은 거스름돈 묶음'이 있는 구조. 이중 지불을 원천 차단</span></span> 모델을 사용합니다. 현금 지갑의 5천 원권/1천 원권처럼, 사용할 때 기존 UTXO를 완전히 파괴하고 새 UTXO를 생성합니다. 공급은 약 2,100만 개로 고정, 4년마다 <span class="term">반감기 (Halving)<span class="term-tip">약 21만 블록(4년)마다 채굴 보상이 절반으로 줄어드는 이벤트. 비트코인을 점점 희귀하게 만드는 핵심 설계</span></span>를 통해 보상이 절반씩 줄어듭니다.`,
        card: { type: "info", tag: "주소 진화", text: "Legacy(1xxx) → P2SH(3xxx) → Native SegWit(bc1q) → Taproot(bc1p) 순서로 진화. Taproot는 복잡한 조건을 단순 결제처럼 숨겨 프라이버시 향상." }
      },
      {
        title: "확장성: 라이트닝 네트워크와 오디널스",
        body: `비트코인의 느린 처리 속도는 <span class="term">라이트닝 네트워크<span class="term-tip">두 사람 간 오프체인 결제 채널을 열어 소액 결제를 즉시·무료에 가깝게 처리하는 Layer 2 솔루션</span></span>로 해결합니다. 최근엔 <span class="term">오디널스 (Ordinals)<span class="term-tip">사토시에 고유 번호를 매겨 이미지/텍스트를 새겨 넣는 기술. 비트코인 네이티브 NFT를 가능하게 함</span></span>가 등장해 비트코인을 데이터 저장소로 활용하는 실험이 폭발했습니다. BRC-20으로 밈코인 발행도 가능해졌지만 '순수 금융 거래를 방해하는 스팸'이라는 철학적 논쟁도 일으켰습니다.`
      }
    ]
  },
  {
    num: "02",
    title: "이더리움",
    subtitle: "월드 컴퓨터와 스마트 컨트랙트",
    keyPoints: [
      "EVM = 전 세계 수천 개 노드에서 동시 실행되는 탈중앙화 컴퓨터",
      "EIP-1559: 기본 수수료 소각 → ETH를 디플레이션 자산으로",
      "더 머지(2022): PoW → PoS 전환, 에너지 99.9% 절감",
      "롤업 (L2): 연산을 외부에서, 결과만 L1에 기록 → 확장성 해결"
    ],
    sections: [
      {
        title: "EVM과 가스(Gas)",
        body: `이더리움의 심장부 <span class="term">EVM (이더리움 가상 머신)<span class="term-tip">스마트 컨트랙트 코드를 전 세계 수천 대 노드에서 동시 실행하고 결과를 검증하는 분산 컴퓨팅 환경</span></span>은 <span class="term">솔리디티(Solidity)<span class="term-tip">이더리움 스마트 컨트랙트를 작성하는 주요 프로그래밍 언어. C++, Python과 유사한 문법</span></span>로 작성된 코드를 실행합니다. 무한 루프 악성 코드 방지를 위해 모든 연산에 <span class="term">가스 (Gas)<span class="term-tip">이더리움 연산에 부과되는 수수료. 복잡한 계약일수록 가스비가 더 많이 든다</span></span>를 부과합니다. <span class="term">EIP-1559<span class="term-tip">알고리즘이 혼잡도에 따라 기본 수수료를 자동 결정하고, 이 수수료를 소각해 ETH 공급을 줄이는 업그레이드</span></span> 업그레이드로 기본 수수료가 소각되어 ETH가 디플레이션 자산이 되었습니다.`
      },
      {
        title: "더 머지와 지분 증명(PoS)",
        body: `2022년 9월, <span class="term">더 머지 (The Merge)<span class="term-tip">이더리움이 에너지 낭비적인 PoW(채굴)에서 PoS(스테이킹)로 전환한 역사적 업그레이드. 에너지 소비 99.9% 절감</span></span>로 이더리움은 채굴을 버리고 <span class="term">지분 증명 (PoS)<span class="term-tip">컴퓨팅 파워 대신 보유한 암호화폐를 담보로 맡겨 블록 검증 권한을 얻는 합의 방식</span></span>으로 전환했습니다. 검증자는 최소 32 ETH를 스테이킹해야 하며, 악의적 행동 시 <span class="term">슬래싱 (Slashing)<span class="term-tip">검증자가 악의적 행동이나 오류를 일으키면 담보로 맡긴 ETH를 직접 몰수하는 페널티</span></span> 페널티로 ETH를 몰수당합니다. <span class="term">리도(Lido)<span class="term-tip">소액 사용자들의 ETH를 모아 대신 스테이킹해주는 유동성 스테이킹 프로토콜. stETH 토큰 발행</span></span> 같은 유동성 스테이킹 프로토콜로 32 ETH 없이도 참여 가능합니다.`,
        table: {
          headers: ["구분", "작업 증명 (비트코인)", "지분 증명 (이더리움)"],
          rows: [
            ["보안 원천", "컴퓨팅 연산력 (전기)", "자본 (스테이킹된 코인)"],
            ["참여자", "채굴자 (Miner)", "검증자 (Validator)"],
            ["블록 권한", "해시 퍼즐 최초 해결자", "지분 비례 무작위 선정"],
            ["악의적 행위", "전기 요금 손실 (간접)", "담보금 직접 몰수 (슬래싱)"]
          ]
        }
      },
      {
        title: "롤업(Rollups)과 L2 확장",
        body: `이더리움은 <span class="term">롤업 (Rollups)<span class="term-tip">무거운 연산은 L2에서 처리하고, 압축된 결과만 L1에 기록해 이더리움 보안을 그대로 활용하는 확장 기술</span></span>으로 확장성을 해결합니다. <b style="color:var(--text-bright)">옵티미스틱 롤업</b>(아비트럼, 옵티미즘)은 거래를 낙관적으로 수용하되 7일 이의 기간을 두고, <b style="color:var(--text-bright)">ZK 롤업</b>(zkSync, 스타크넷)은 수학적 증명으로 즉시 확정합니다. <span class="term">EIP-4844 블롭(Blobs)<span class="term-tip">18일 후 자동 삭제되는 임시 데이터 저장 공간. L2가 데이터를 이더리움에 저장하는 비용을 대폭 낮춤</span></span>으로 L2 수수료를 극적으로 낮췄습니다.`
      }
    ]
  },
  {
    num: "03",
    title: "솔라나",
    subtitle: "하드웨어를 극한까지 쥐어짜다",
    keyPoints: [
      "병렬 처리 + PoH = 단일 체인에서 초당 수천 건 처리",
      "모놀리식 아키텍처: L2 없이 원자적 결합성 유지",
      "높은 하드웨어 요구사항 → 중앙화 압력 (데이터센터급 필요)",
      "파이어댄서(Firedancer): 네트워크 안정성과 탈중앙화 개선 시도"
    ],
    sections: [
      {
        title: "핵심 혁신: 병렬 처리와 PoH",
        body: `솔라나는 이더리움과 달리 하드웨어 성능을 극한까지 쥐어짜는 철학을 선택했습니다. 핵심 혁신은 <span class="term">병렬 처리 (Parallel Execution)<span class="term-tip">트랜잭션이 읽고 쓸 계정을 미리 명시하도록 강제해, 서로 간섭 없는 거래들을 여러 CPU 코어에서 동시 처리</span></span>입니다. 또한 <span class="term">역사 증명 (PoH)<span class="term-tip">해시 함수로 만든 암호학적 '글로벌 시계'. 거래 순서를 명확히 찍어 통신 없이 합의 가능하게 함</span></span>로 모든 노드가 같은 시계를 보게 해 합의 통신을 줄였습니다. <span class="term">PDA (프로그램 파생 주소)<span class="term-tip">프라이빗 키가 없어 스마트 컨트랙트 프로그램만 통제 가능한 주소. 에스크로 신뢰 문제를 암호학으로 해결</span></span>는 에스크로 신뢰 문제를 구조적으로 해결했습니다.`
      },
      {
        title: "성능과 탈중앙화의 트레이드오프",
        body: `솔라나 검증자를 운영하려면 월 수천 달러의 데이터센터급 인프라가 필요합니다. 권력이 소수 대형 운영자에게 집중되는 문제를 보완하기 위해 점프 크립토 주도로 <span class="term">파이어댄서 (Firedancer)<span class="term-tip">솔라나 검증자 클라이언트를 C언어로 백지부터 새로 개발한 독립 프로젝트. 네트워크 안정성과 클라이언트 다양성 제공</span></span>를 개발했습니다. 솔라나의 모놀리식 구조 덕분에 복잡한 디파이를 한 번에 성공시키는 <span class="term">원자적 결합성<span class="term-tip">여러 프로토콜 기능을 단 하나의 트랜잭션으로 묶어 동시 실행하거나, 실패 시 전체 롤백하는 특성</span></span>이 유지되어 밈코인·온체인 오더북 거래가 폭발했습니다.`,
        card: { type: "info", tag: "알펜글로우 (Alpenglow)", text: "현재 12초대 완결성을 0.1초(나스닥 수준)로 끌어올리기 위해 PoH를 폐기하고 완전히 새로운 합의 알고리즘으로 전환하는 초대형 업그레이드 준비 중." }
      }
    ]
  },
  {
    num: "04",
    title: "L1 아키텍처",
    subtitle: "블록체인 트릴레마와 설계 철학",
    keyPoints: [
      "트릴레마: 탈중앙화·보안·확장성 중 2개만 극대화 가능",
      "모놀리식(솔라나) vs 모듈러(이더리움) — 각자 다른 트레이드오프",
      "완결성: 확률적(비트코인) vs 경제적(이더리움) vs 결정론적(코스모스)",
      "크로스체인 브릿지 = 크립토에서 가장 취약한 인프라"
    ],
    sections: [
      {
        title: "블록체인의 4대 기능과 아키텍처",
        body: `모든 블록체인은 네 가지 기능을 담당합니다: <b style="color:var(--text-bright)">실행</b>(거래 처리), <b style="color:var(--text-bright)">정산</b>(최종 확정), <b style="color:var(--text-bright)">합의</b>(순서 결정), <b style="color:var(--text-bright)">데이터 가용성</b>(장부 보관). <span class="term">모놀리식 아키텍처<span class="term-tip">비트코인·솔라나처럼 네 기능을 하나의 체인에서 모두 처리. 원자적 결합성 유리하나 확장 시 탈중앙화 훼손</span></span>는 이 모든 것을 하나의 체인에서 처리하고, <span class="term">모듈러 아키텍처<span class="term-tip">이더리움처럼 각 기능을 분리해 전문화. 실행은 L2 롤업에 외주, L1은 보안·데이터 보관에 집중</span></span>는 기능을 분리해 각각 최적화합니다.`
      },
      {
        title: "완결성(Finality)의 세 가지 유형",
        body: `<span class="term">확률적 완결성<span class="term-tip">비트코인 PoW 방식. 블록이 쌓일수록 뒤집을 확률이 줄어들지만 수학적으로 0이 되지는 않음</span></span>은 비트코인, <span class="term">경제적 완결성<span class="term-tip">이더리움 PoS. 약 12.8분 후 수십조 원의 ETH를 불태워야 뒤집을 수 있어 사실상 확정</span></span>은 이더리움, <span class="term">결정론적 완결성<span class="term-tip">텐더민트(코스모스) 기반. 블록 생성 즉시 100% 확정. 네트워크 불안정 시 안전을 위해 체인이 아예 멈춤</span></span>은 코스모스 등 텐더민트 기반 체인에서 사용됩니다.`
      },
      {
        title: "크로스체인 브릿지의 딜레마",
        body: `<span class="term">크로스체인 브릿지<span class="term-tip">서로 다른 블록체인 간에 자산을 이동시키는 인프라. 이더리움에 잠금(Lock), 솔라나에 발행(Mint) 방식으로 작동</span></span>는 크립토에서 가장 취약한 인프라입니다. 이더리움 검증자는 솔라나 상황을 모르고, 그 반대도 마찬가지이기 때문입니다. <span class="term">웜홀(Wormhole)<span class="term-tip">다중 서명 기반 크로스체인 브릿지. 관리자 키 탈취로 수천억 원 해킹 피해 발생</span></span>, 로닌 같은 다중 서명 브릿지들은 관리자 키가 털리며 수천억 원 피해를 입었습니다.`,
        card: { type: "warn", tag: "핵심 교훈", text: "블록체인 내부 보안(51% 공격 불가)도 외부 데이터를 가져오는 브릿지의 취약한 신뢰 앞에선 무용지물입니다." }
      }
    ]
  },
  {
    num: "05",
    title: "자산 보관",
    subtitle: "프라이빗 키가 곧 소유권",
    keyPoints: [
      "\"Not your keys, not your coins\" — 프라이빗 키를 갖지 않으면 내 돈이 아님",
      "시드 구문 12~24단어 = 모든 자산의 마스터 열쇠 → 절대 온라인 저장 금지",
      "하드웨어 지갑 = 보안 골드 스탠다드 (렛저, 트레저)",
      "기관 수준: Multisig → MPC → 적격 수탁 순서로 보안 강화"
    ],
    sections: [
      {
        title: "암호학적 기초와 지갑 유형",
        body: `자산 보관의 핵심은 <span class="term">퍼블릭 키 / 프라이빗 키<span class="term-tip">퍼블릭 키=자물쇠(주소). 프라이빗 키=열쇠(서명용). 타원 곡선 암호화로 연결되며, 프라이빗 키로 퍼블릭 키를 만들 수 있지만 역산 불가</span></span> 쌍입니다. <span class="term">소프트웨어 지갑 (메타마스크)<span class="term-tip">크롬 확장 프로그램·앱 형태. 편리하지만 악성코드·피싱에 노출 위험</span></span>은 편리하지만 취약하고, <span class="term">하드웨어 지갑<span class="term-tip">렛저·트레저 등. 인터넷과 완전 차단된 보안 칩에 프라이빗 키 저장. 원격 해킹 사실상 불가능</span></span>은 인터넷과 차단된 보안 칩에 키를 저장해 원격 해킹이 불가능합니다.`
      },
      {
        title: "기관 보관 아키텍처",
        body: `기관은 단일 직원에게 키를 맡길 수 없어 체계적인 시스템이 필요합니다.`,
        table: {
          headers: ["방식", "작동 원리", "특징"],
          rows: [
            ["Multisig (다중 서명)", "임원 5명 중 3명 동의 필요", "온체인 투명. 수수료 비싸고 느림"],
            ["MPC (다자간 연산)", "키를 수학적 조각으로 분산 보관", "오프체인 서명. 빠르고 유연. 코드 결함 위험"],
            ["적격 수탁", "규제 기관에 콜드 스토리지 위탁", "법적 보호. 자금 인출에 며칠 소요"]
          ]
        }
      }
    ]
  },
  {
    num: "06",
    title: "시장 구조와 트레이딩",
    subtitle: "기관이 실제로 돈을 버는 방법",
    keyPoints: [
      "무기한 선물 (Perp) = 만기 없는 선물 계약, 펀딩비로 현물가에 고정",
      "베이시스 트레이딩 = 현물 매수 + 선물 숏 → 델타 중립 + 펀딩비 수취",
      "비트코인 현물 ETF(2024 승인) = 기관 자금의 크립토 진입 통로",
      "펀딩비가 연 50~100% → 베이시스 트레이더에게 '현금 복사기'"
    ],
    sections: [
      {
        title: "무기한 선물과 펀딩비 메커니즘",
        body: `<span class="term">무기한 선물 (Perpetual Futures)<span class="term-tip">만기일이 없는 선물 계약. 크립토 업계가 발명. 현물 가격과의 괴리를 펀딩비로 조정</span></span>는 만기가 없는 혁신적 상품입니다. <span class="term">펀딩비 (Funding Rate)<span class="term-tip">선물 가격이 현물보다 비싸면 롱이 숏에게, 반대면 숏이 롱에게 매 8시간마다 지불하는 이자. 두 가격을 자석처럼 붙게 함</span></span>는 8시간마다 롱-숏 간 이자를 교환해 선물가와 현물가를 일치시키는 천재적 메커니즘입니다. 강세장에서 펀딩비는 연 50~100%까지 치솟습니다.`
      },
      {
        title: "베이시스 트레이딩: 기관의 무위험 수익",
        body: `기관들의 핵심 전략인 <span class="term">베이시스 트레이딩<span class="term-tip">현물 매수 + 선물 공매도를 동시에 취해 가격 방향성 위험을 0으로 만들고, 펀딩비 수익만 챙기는 시장 중립 전략</span></span>은 가격 등락에 무관하게 펀딩비를 수취합니다. 100억 현물 매수 + 100억 선물 숏 = <span class="term">델타 중립 (Delta Neutral)<span class="term-tip">가격이 오르든 내리든 포지션 가치가 변하지 않는 상태. 방향성 리스크 = 0</span></span> 상태에서 연 50%의 펀딩비를 수취합니다. 전통 금융 채권 이자 연 5%와 비교해보면 얼마나 강력한지 알 수 있습니다.`,
        card: { type: "success", tag: "2024년 게임 체인저", text: "비트코인·이더리움 현물 ETF 승인으로 연기금·뮤추얼 펀드가 지갑 없이 기존 주식 계좌로 크립토 투자 가능. 마이크로스트래티지의 전환사채-비트코인 전략도 대성공." }
      }
    ]
  },
  {
    num: "07",
    title: "탈중앙화 금융 (DeFi)",
    subtitle: "스마트 컨트랙트로 돌아가는 병렬 금융",
    keyPoints: [
      "AMM 공식 x*y=k: 구슬 비유로 이해하는 유동성 풀",
      "슬리피지가 오히려 안전장치 — 유동성 고갈을 수학적으로 방지",
      "에이브(Aave): 초과 담보 대출, 건강 지수 1 미만 시 자동 청산",
      "오라클 + 플래시론 조합 = 디파이 최대 취약점"
    ],
    sections: [
      {
        title: "AMM과 x*y=k 공식",
        body: `유니스왑이 발명한 <span class="term">AMM (자동화된 마켓 메이커)<span class="term-tip">호가창 없이 수학 공식으로 자동으로 가격을 결정하는 탈중앙화 거래 방식</span></span>의 핵심 공식은:`,
        formula: "x × y = k (불변의 상수)",
        formulaNote: `유동성 풀에 이더리움(x)과 USDC(y)의 곱은 항상 k로 유지됩니다. 이더리움을 많이 사면 이더리움이 희귀해져 가격이 기하급수적으로 올라갑니다. 이 가격 충격을 <span class="term">슬리피지 (Slippage)<span class="term-tip">대량 거래 시 AMM 공식에 의해 발생하는 예상보다 불리한 가격 변동. 오히려 풀 고갈을 막는 안전장치 역할</span></span>라고 하며, 뱅크런을 수학적으로 방지합니다.`
      },
      {
        title: "대출 프로토콜과 자동 청산",
        body: `<span class="term">에이브 (Aave)<span class="term-tip">이더리움 기반 대표 대출 프로토콜. 초과 담보 원칙으로 운영. 담보 가치가 대출액에 근접하면 자동 청산</span></span> 같은 프로토콜은 신용 평가 없이 <span class="term">초과 담보<span class="term-tip">빌리는 금액보다 더 많은 가치의 담보를 맡겨야 하는 구조. 무허가 대출을 가능하게 하는 핵심</span></span>만으로 대출을 제공합니다. 담보 가치 하락 시 건강 지수가 1 미만이 되면, 스마트 컨트랙트가 자동으로 담보를 시장가 5~10% 할인해 청산합니다.`
      },
      {
        title: "오라클과 플래시론의 위험",
        body: `<span class="term">오라클 (Oracle)<span class="term-tip">체인링크·파스 등. 현실 세계의 가격 데이터를 블록체인으로 가져오는 통로. 조작 시 프로토콜 전체 붕괴</span></span>은 현실 가격을 블록체인으로 가져오는 통로입니다. 해커들은 <span class="term">플래시 론 (Flash Loan)<span class="term-tip">단일 트랜잭션 내에서 담보 없이 수백억 원을 빌려 차익을 내고 즉시 갚는 디파이 특유의 기능. 선악 양용</span></span>으로 수백억 원을 순식간에 빌려 얕은 풀 가격을 조작하고, 오라클이 이를 진짜 가격으로 착각하도록 유도해 프로토콜의 모든 자금을 탈취합니다.`,
        card: { type: "warn", tag: "공격 패턴", text: "플래시론 → 얕은 DEX 풀 가격 100배 조작 → 오라클이 조작 가격 전달 → 부풀려진 담보로 대출 풀 전액 탈취 → 플래시론 상환 → 이익만 챙겨 도주" }
      }
    ]
  },
  {
    num: "08",
    title: "MEV",
    subtitle: "거래 순서를 조작하는 어둠의 경제학",
    keyPoints: [
      "멤풀(Mempool) = 모든 미확정 거래가 공개되는 '투명한 대기실'",
      "샌드위치 공격: 프론트러닝 → 피해자 거래 → 백러닝 순서로 무위험 차익",
      "PBS(플래시봇): 빌더-검증자 분리로 가스비 전쟁 해소, 대신 중앙화 부작용",
      "크로스 도메인 MEV: 여러 체인에 걸친 타이밍 조작 — 해결 난이도 ↑"
    ],
    sections: [
      {
        title: "샌드위치 공격의 원리",
        body: `사용자의 거래가 블록에 담기기 전 <span class="term">멤풀 (Mempool)<span class="term-tip">아직 블록에 포함되지 않은 미확정 거래들이 대기하는 공개 공간. 누구나 거래 내용을 볼 수 있음</span></span>에 공개되면, <span class="term">서처 (Searcher)<span class="term-tip">멤풀을 실시간 모니터링하며 이익 기회를 발굴하는 전문 봇</span></span>가 이를 발견합니다. 사용자 거래 <b style="color:var(--accent2)">앞에</b> 매수(프론트런), 사용자 거래 <b style="color:var(--accent2)">뒤에</b> 매도(백런)하여 무위험 차익을 챙기는 것이 <span class="term">샌드위치 공격<span class="term-tip">피해자 거래 앞뒤에 자신의 거래를 끼워 넣어 가격을 올리고 팔아 이익을 취하는 MEV 공격 방식</span></span>입니다.`
      },
      {
        title: "플래시봇과 PBS",
        body: `가스비 경매(PGA) 혼란을 해결하기 위해 플래시봇이 <span class="term">PBS (Proposer-Builder Separation)<span class="term-tip">블록을 조립하는 '빌더'와 블록을 장부에 올리는 '검증자(제안자)'를 분리한 아키텍처</span></span>를 도입했습니다. 그러나 2~3개 거대 빌더가 전체 블록의 80~90%를 독식하는 극심한 중앙화 위기와, 이 빌더들이 미국 재무부(OFAC) 제재 주소를 자체 검열하는 문제가 발생했습니다.`,
        card: { type: "success", tag: "사용자 보호", text: "플래시봇 프로텍트(Flashbots Protect) 같은 프라이빗 RPC를 사용하면 거래를 공개 멤풀에 올리지 않고 비밀리에 처리해 샌드위치 공격을 피할 수 있습니다." }
      }
    ]
  },
  {
    num: "09",
    title: "스테이블코인 & RWA",
    subtitle: "크립토의 기축통화와 실물 자산 토큰화",
    keyPoints: [
      "법정화폐 담보(USDT·USDC)가 95%+ 시장 장악 — 단순함이 승리",
      "루나/UST = 알고리즘 스테이블코인의 실패 교과서 (죽음의 소용돌이)",
      "USDC SVB 위기: 크립토 안전이 전통 은행 인프라에 묶여있음을 증명",
      "RWA = 국채 토큰화는 성공, 부동산/주식은 '유동성 패러독스'에 갇힘"
    ],
    sections: [
      {
        title: "스테이블코인 4가지 유형",
        body: `<b style="color:var(--accent2)">알고리즘형</b>(루나/UST): 담보 없이 코드만으로 페깅 시도 → 신뢰 붕괴 시 <span class="term">죽음의 소용돌이 (Death Spiral)<span class="term-tip">코인 가격 하락 → 무한 발행으로 방어 시도 → 더 큰 하락의 악순환. 루나/UST 사태로 수십조 원 증발</span></span>. <b style="color:var(--text-bright)">크립토 담보형</b>(DAI): 초과 담보로 탈중앙화 유지. <b style="color:var(--accent3)">합성형</b>(USDe): 델타 중립 + 펀딩비 수익. <b style="color:var(--accent)">법정화폐 담보형</b>(USDT·USDC): 실제 달러·국채 1:1 보유 → 시장의 95%+ 장악.`
      },
      {
        title: "USDT vs USDC와 RWA",
        body: `<span class="term">테더 (USDT)<span class="term-tip">글로벌 최대 스테이블코인. 신흥국 인플레 회피용으로 압도적 수요. 2024년 순이익 약 17조 원</span></span>는 신흥국 인플레이션 회피 수단으로 압도적 위상이며, <span class="term">서클 (USDC)<span class="term-tip">규제 준수 중심 스테이블코인. 기관·디파이 생태계용. SVB 파산 시 0.87달러까지 디페깅 사태 발생</span></span>는 규제 준수로 기관에 특화됩니다. <span class="term">RWA (실물 자산 토큰화)<span class="term-tip">국채·주식·부동산을 블록체인 토큰으로 만드는 작업. 국채 토큰화(블랙록 BUIDL, 온도)는 성공, 부동산은 유동성 패러독스로 난항</span></span>에서는 미 국채 토큰화가 폭발적으로 성장 중이나, 부동산·주식은 2차 시장 유동성 부족으로 한계에 봉착했습니다.`
      }
    ]
  },
  {
    num: "10",
    title: "하이퍼리퀴드",
    subtitle: "DEX 시장을 장악한 성공 방정식",
    keyPoints: [
      "VC 없이 100% 커뮤니티 에어드랍 + 수수료 99% HYPE 바이백·소각",
      "온체인 오더북 + 0.2초 완결성으로 CEX 수준의 UX 구현",
      "HLP: 커뮤니티 소유 마켓 메이커 금고 — 편리하지만 손실도 커뮤니티가 부담",
      "약점: 재단이 검증자 80% 통제, 코드 비공개, 중앙화 API 의존"
    ],
    sections: [
      {
        title: "dYdX 몰락과 하이퍼리퀴드의 부상",
        body: `dYdX는 막대한 수수료 수익을 회사가 독식하고 토큰 홀더에게 가치가 없어 붕괴했습니다. 하이퍼리퀴드는 이 빈틈을 파고들어 수수료의 99%를 <span class="term">HYPE 바이백·소각<span class="term-tip">거래소 수수료로 시장에서 자사 토큰을 매수해 영구 소각. 토큰 희소성을 지속적으로 높이는 구조</span></span>에 투자했습니다. 출시 초 2달러 토큰이 단기간에 60달러로 치솟으며 강력한 선순환을 만들었습니다.`
      },
      {
        title: "기술적 혁신과 한계",
        body: `<span class="term">하이퍼BFT<span class="term-tip">텐더민트를 개조한 자체 합의 알고리즘. 0.2초 완결성, 초당 20만 건 처리</span></span>로 0.2초 완결성과 초당 20만 건 처리를 달성했습니다. <span class="term">HLP (Hyperliquidity Provider)<span class="term-tip">커뮤니티 소유의 유동성 금고. 예치자들이 마켓 메이킹 수익을 받지만, 청산 손실도 공동 부담</span></span>는 커뮤니티가 마켓 메이킹 역할을 하는 혁신이지만, 대폭락장에서 막대한 손실을 예치자들이 떠안는 리스크가 있습니다.`,
        card: { type: "warn", tag: "중앙화 리스크", text: "검증자 지분 80%+를 재단이 통제, 노드 코드 비공개(검증자들이 자신이 실행하는 코드를 검증 못 함), 중앙화 API 서버 과부하 시 수십 분 먹통 발생." }
      }
    ]
  },
  {
    num: "11",
    title: "NFT",
    subtitle: "디지털 소유권의 재정의",
    keyPoints: [
      "NFT = 이미지 소유 X, 블록체인 소유권 기록 O — 데이터는 외부에 있음",
      "ERC-721(고유 토큰) vs ERC-1155(다중 토큰) vs 솔라나 압축 NFT",
      "블루칩 PFP = 부족적 신호 도구 (디지털 에르메스 가방)",
      "블러(Blur)의 로열티 0% 전략이 오픈씨를 항복시킨 사례 — 기술적 강제 불가"
    ],
    sections: [
      {
        title: "소유권의 4가지 레이어",
        body: `NFT는 디지털 재산권을 분해합니다: <b style="color:var(--text-bright)">토큰 통제권</b>(블록체인 장부), <b style="color:var(--text-bright)">출처 증명</b>(작가 지갑에서 발행), <b style="color:var(--text-bright)">콘텐츠 데이터</b>(<span class="term">IPFS/Arweave<span class="term-tip">분산 파일 저장 시스템. NFT 이미지 파일을 블록체인 외부에 저장하는 데 활용</span></span> 등 외부 저장), <b style="color:var(--text-bright)">사용 권한</b>(오프체인 법률·라이선스). 블록체인에 기록된 것은 '소유권 증명'이지 이미지 파일 자체가 아닙니다.`
      },
      {
        title: "마켓플레이스 전쟁과 부족 신호",
        body: `<span class="term">블러 (Blur)<span class="term-tip">로열티를 0%로 낮추고 전문 트레이더에게 BLUR 토큰을 대량 배포해 오픈씨를 제친 NFT 마켓플레이스</span></span>는 로열티를 사실상 0%로 만들고 전문 트레이더에게 토큰을 뿌려 시장 1위를 탈환했습니다. ERC-721 기술 자체에 로열티 강제 코드가 없기 때문에 오픈씨도 항복할 수밖에 없었습니다. 크립토펑크·보어드 에이프 같은 블루칩 PFP는 롤렉스·에르메스처럼 부유한 커뮤니티 소속을 과시하는 <span class="term">부족적 신호 (Tribal Signaling)<span class="term-tip">배타적 커뮤니티 멤버십을 과시하는 사회적 도구. NFT 가격의 실질적 동인 중 하나</span></span> 역할을 합니다.`
      }
    ]
  },
  {
    num: "12",
    title: "DAO와 토큰 경제학",
    subtitle: "코드로 짜인 조직의 정치학",
    keyPoints: [
      "1토큰 1표 → 과두제 문제 / veToken → 투표 매수 시장 탄생",
      "플래시론 거버넌스 공격: 1초에 수천억 빌려 악성 안건 통과 후 도주",
      "타임락 + 스냅샷 블록 = 거버넌스 공격 방어의 기본",
      "DAO-재단-Labs 삼각 구도: 이상과 효율의 타협점 찾기"
    ],
    sections: [
      {
        title: "4가지 투표 모델",
        body: `<b style="color:var(--text-bright)">1토큰 1표</b>: 직관적이나 고래 과두제 문제. <b style="color:var(--text-bright)">veToken (시간 가중)</b>: 장기 락업 보상이나 <span class="term">투표 매수(Bribe) 시장<span class="term-tip">veToken 투표권을 사서 유동성 보상 방향을 조종하는 시장. 커브 생태계에서 '커브 전쟁'으로 유명해짐</span></span> 탄생. <b style="color:var(--text-bright)">이차 투표(Quadratic)</b>: 1표=1코인, 2표=4코인 — 부자의 표 매집을 수학으로 억제. <b style="color:var(--text-bright)">퓨타키(Futarchy)</b>: 투표 폐지, 예측 시장으로 의사결정.`
      },
      {
        title: "거버넌스 공격과 방어",
        body: `<span class="term">Beanstalk 해킹 사태<span class="term-tip">플래시론으로 수천억 원어치 투표 코인을 1초 빌려, 악성 안건(금고 → 해커 지갑 이체)에 몰표 → 통과 → 도주. DAO 거버넌스 공격의 대표 사례</span></span>처럼 플래시론으로 1초만에 투표권을 사서 악성 안건을 통과시키는 공격을 막기 위해, 현재 DAO들은 <span class="term">스냅샷 (Snapshot)<span class="term-tip">투표권 기준을 과거 특정 블록 시점으로 고정해 투표 시점에 플래시론을 써도 투표권 없도록 함</span></span>과 <span class="term">타임락 (Timelock)<span class="term-tip">안건 통과 후 실제 실행까지 며칠의 대기 시간을 강제. 악의적 안건 발견 시 커뮤니티가 대응할 시간 확보</span></span>을 필수 적용합니다.`
      }
    ]
  },
  {
    num: "13",
    title: "DePIN",
    subtitle: "토큰으로 현실 인프라를 깔다",
    keyPoints: [
      "Top-down(통신사) → Bottom-up(개인+토큰 보상) 인프라 구축 패러다임 전환",
      "헬륨: 일반인 공유기로 200개국 100만+ IoT 통신망 구축",
      "콜드 스타트 문제 = 토큰 인플레이션 보상으로 해결 (→ 실제 매출로 연결 필수)",
      "파일코인: 복제 증명 + 시공간 증명으로 법정 소송 없이 계약 강제"
    ],
    sections: [
      {
        title: "DePIN의 역발상",
        body: `<span class="term">DePIN<span class="term-tip">Decentralized Physical Infrastructure Networks. 토큰 인센티브로 개인들이 실제 물리적 인프라(통신망, 저장소, 지도 등)를 구축하는 모델</span></span>은 통신사가 수조 원을 투자해 인프라를 깔던 방식을 뒤집습니다. <span class="term">헬륨 (Helium)<span class="term-tip">일반인들이 거실에 무선 공유기를 설치하면 HNT 토큰을 지급. 단기간에 전 세계 200개국 100만+ IoT 통신망 구축</span></span>은 일반인들에게 토큰을 지급해 글로벌 IoT 통신망을 만들었고, <span class="term">하이브매퍼 (Hivemapper)<span class="term-tip">택시·우버 기사들의 대시캠 영상으로 구글 스트리트뷰보다 빠른 속도로 전 세계 도로 지도 제작</span></span>는 우버 기사들의 대시캠으로 구글 스트리트뷰를 위협합니다.`
      },
      {
        title: "콜드 스타트와 지속 가능성",
        body: `토큰 보상이 초기 인프라 구축 보조금 역할을 하지만, 장기적으로는 실제 B2B 고객의 유료 사용(Real Revenue)이 필요합니다. <span class="term">파일코인 (Filecoin)<span class="term-tip">분산 클라우드 저장소 DePIN. 복제 증명과 시공간 증명으로 데이터 보관을 암호학적으로 강제</span></span>는 복제 증명과 시공간 증명으로 데이터 보관을 코드로 강제합니다. 위치 조작(GPS Spoofing) 악성 유저 탐지가 최대 기술 과제입니다.`
      }
    ]
  },
  {
    num: "14",
    title: "양자 내성",
    subtitle: "다가오는 암호학의 위기",
    keyPoints: [
      "쇼어 알고리즘 = ECDSA(타원곡선) 기반 모든 지갑 프라이빗 키 역산 가능",
      "가장 위험: P2PK 형식 초창기 비트코인 (사토시 보유분 포함 150만 BTC)",
      "SHA-256 해시는 상대적으로 안전 — 길이 늘리는 것으로 방어 가능",
      "비트코인 철학적 딜레마: 양자 공격 전 해당 코인 소각 vs 재산권 불가침"
    ],
    sections: [
      {
        title: "양자 위협의 실체",
        body: `<span class="term">쇼어 알고리즘 (Shor's Algorithm)<span class="term-tip">양자 컴퓨터로 타원곡선 암호(ECDSA)를 단번에 뚫는 알고리즘. 현재 슈퍼컴퓨터로는 우주 나이만큼 걸리는 계산을 단시간에 가능하게 함</span></span>은 ECDSA 기반 모든 지갑을 위협합니다. 반면 <span class="term">그루버 알고리즘 (Grover's Algorithm)<span class="term-tip">양자 컴퓨터로 해시 함수 풀이 속도를 가속하는 알고리즘. 뼈대를 무너뜨리지는 않아 길이를 늘리는 것으로 방어 가능</span></span>은 SHA-256의 뼈대를 무너뜨리지 않아, 해시 함수는 상대적으로 안전합니다. 가장 위험한 것은 2009~2012년 초창기 <span class="term">P2PK 주소<span class="term-tip">거래 시 공개키를 체인에 직접 노출하는 초창기 비트코인 주소 형식. 현재 약 150만 BTC(수백조 원)가 이 형식에 잠들어 있어 양자 위협에 취약</span></span>들로, 약 150만 BTC가 잠들어 있습니다.`
      },
      {
        title: "철학적 딜레마",
        body: `NIST가 <span class="term">양자 내성 표준<span class="term-tip">격자 기반 암호 등 양자 컴퓨터도 풀 수 없는 수학을 이용한 새로운 암호화 표준. 미국 NIST가 2024년 공식화</span></span>을 발표했지만, 블록체인 전체 업그레이드는 수수료 폭등과 함께 큰 논란을 일으킵니다. 더 큰 딜레마는 주인이 사망하거나 비밀번호를 잃어버린 '고아 코인'들입니다. 해커가 이를 훔쳐 시장에 던지기 전에 선제적으로 소각해야 한다는 주장은 <b style="color:var(--accent2)">"누구의 재산도 함부로 몰수할 수 없다"</b>는 비트코인 핵심 철학과 정면 충돌합니다.`
      }
    ]
  },
  {
    num: "15",
    title: "예측 시장",
    subtitle: "돈이 걸리면 거짓말하지 않는다",
    keyPoints: [
      "폴리마켓: 실제 돈 베팅 → 전문가 분석·여론조사보다 정확한 확률 제공",
      "토큰 가격 = 확률 (45센트 = 45% 당선 확률)",
      "탈중앙화 예측 시장 = 운영자 신뢰 불필요 + 검열 저항성",
      "단순 도박이 아닌 실시간 확률 정보 인프라로서의 사회적 가치"
    ],
    sections: [
      {
        title: "대중의 지혜와 시장 메커니즘",
        body: `<span class="term">폴리마켓 (Polymarket)<span class="term-tip">탈중앙화 예측 시장 플랫폼. 선거·금리·스포츠 등 다양한 이벤트에 실제 자금을 베팅해 확률을 형성</span></span> 같은 플랫폼에서 "A 후보 당선 토큰"이 45센트에 거래된다면, 시장은 당선 확률을 45%로 본 것입니다. 전화 여론조사 응답률이 5% 미만인 현실에서, 자신의 돈을 걸면 사람들은 더 정직하고 날카롭게 정보를 활용합니다. 학계 연구도 돈이 걸린 예측 시장이 전문가 분석보다 더 정확함을 지속적으로 확인합니다.`
      },
      {
        title: "왜 탈중앙화인가",
        body: `사설 베팅 사이트는 운영자가 돈을 들고 도망치거나 정부 압력으로 민감한 이슈 베팅을 강제로 닫을 수 있습니다. 탈중앙화 예측 시장은 <span class="term">오라클<span class="term-tip">결과를 외부에서 검증해 스마트 컨트랙트가 자동으로 당첨금을 분배. 운영자를 신뢰할 필요 없음</span></span>이 결과를 판단해 자동 분배하므로 운영자를 믿을 필요가 없습니다. 프론트엔드가 차단되어도 프로토콜 자체는 멈추지 않는 강력한 <span class="term">검열 저항성<span class="term-tip">스마트 컨트랙트로 구동되어 특정 기관이 서비스를 강제로 종료할 수 없는 특성</span></span>이 핵심 가치입니다.`,
        card: { type: "info", tag: "사회적 가치", text: "예측 시장은 선거 확률만 알려주는 것이 아닙니다. 금리 결정, 기후 변화 정책, 기업 실적 등 불확실한 미래 정보를 가격으로 환산해 사회에 '실시간 확률 인프라'를 제공합니다." }
      }
    ]
  }
];

const GLOSSARY_TERMS = [
  { term: "사토시 나카모토", def: "비트코인 창시자. 2010년 이후 종적을 감췄으며 신원 불명. 약 100만 BTC 보유 추정." },
  { term: "SHA-256", def: "비트코인 채굴에 사용되는 암호화 해시 함수. 어떤 입력값이든 256비트 고정 출력. 역산 불가능." },
  { term: "작업 증명 (PoW)", def: "컴퓨팅 연산력(전기)으로 블록 생성 권한을 경쟁하는 합의 방식. 비트코인이 사용." },
  { term: "지분 증명 (PoS)", def: "보유 암호화폐를 담보로 맡겨 블록 검증 권한을 얻는 합의 방식. 이더리움이 2022년 전환." },
  { term: "프라이빗 키", def: "암호화폐 자산을 서명·이동시키는 비밀 난수. 분실 시 자산 영구 접근 불가." },
  { term: "시드 구문", def: "12~24개 영단어로 구성된 지갑 복구용 마스터 비밀번호. 이것만 있으면 어떤 기기에서도 지갑 복원." },
  { term: "UTXO", def: "Unspent Transaction Output. 비트코인의 잔액 관리 방식. 지폐처럼 각 단위를 별도로 추적해 이중 지불 방지." },
  { term: "반감기 (Halving)", def: "약 4년마다 채굴 보상이 절반으로 줄어드는 이벤트. 비트코인 공급을 점진적으로 줄여 희소성 증가." },
  { term: "EVM", def: "이더리움 가상 머신. 스마트 컨트랙트를 전 세계 수천 노드에서 동시 실행하는 분산 컴퓨팅 환경." },
  { term: "가스 (Gas)", def: "이더리움 연산 수수료. 복잡한 스마트 컨트랙트일수록 가스비가 더 높음. 악성 무한루프 코드 방지용." },
  { term: "EIP-1559", def: "이더리움 수수료 개혁. 기본 수수료를 알고리즘이 자동 결정하고 소각. ETH를 디플레이션 자산으로 만든 핵심 업그레이드." },
  { term: "더 머지 (The Merge)", def: "2022년 9월 이더리움이 PoW에서 PoS로 전환한 업그레이드. 에너지 소비 99.9% 절감." },
  { term: "슬래싱 (Slashing)", def: "PoS 검증자가 악의적 행동 시 예치된 ETH를 직접 몰수하는 페널티 메커니즘." },
  { term: "롤업 (Rollup)", def: "연산은 L2에서 처리하고 압축된 결과만 L1에 기록해 이더리움 보안을 그대로 활용하는 확장 기술." },
  { term: "리스테이킹 (Restaking)", def: "이더리움 스테이킹된 ETH를 다른 프로토콜 보안에도 중복 사용하는 아이겐레이어 혁신. 자본 효율성 극대화." },
  { term: "역사 증명 (PoH)", def: "솔라나의 암호학적 글로벌 시계. 거래 순서를 사전에 명확히 찍어 합의 통신 최소화." },
  { term: "병렬 처리", def: "솔라나가 서로 간섭 없는 거래를 여러 CPU 코어에서 동시에 처리하는 방식. 처리량을 선형 이상으로 증가." },
  { term: "블록체인 트릴레마", def: "탈중앙화·보안·확장성 세 가지 중 두 가지만 동시에 극대화 가능하다는 원리." },
  { term: "완결성 (Finality)", def: "블록체인 거래가 뒤집을 수 없게 확정되는 상태. 확률적(비트코인), 경제적(이더리움), 결정론적(코스모스) 유형이 있음." },
  { term: "멀티시그 (Multisig)", def: "여러 개의 서명이 모여야 거래가 실행되는 방식. 기관 보안의 기본. N명 중 M명 동의 구조." },
  { term: "MPC", def: "다자간 연산. 프라이빗 키를 수학적 조각으로 분산 보관해 단일 지점 해킹 위험 제거." },
  { term: "무기한 선물 (Perp)", def: "만기일이 없는 선물 계약. 펀딩비로 현물가와 동기화. 크립토 시장 거래량의 대부분 차지." },
  { term: "펀딩비 (Funding Rate)", def: "무기한 선물 가격을 현물 가격에 묶어두는 8시간 주기 이자. 강세장에서 롱→숏 지급." },
  { term: "베이시스 트레이딩", def: "현물 매수 + 선물 숏으로 델타 중립을 만들고 펀딩비만 수취하는 시장 중립 전략." },
  { term: "AMM", def: "자동화된 마켓 메이커. 호가창 없이 x*y=k 수학 공식으로 자동 가격 결정. 유니스왑 발명." },
  { term: "슬리피지 (Slippage)", def: "AMM 공식에 의해 대량 거래 시 발생하는 불리한 가격 변동. 유동성 풀 고갈을 방지하는 안전장치." },
  { term: "플래시 론 (Flash Loan)", def: "단일 트랜잭션 내에서 담보 없이 수백억 원을 빌려 차익 후 즉시 상환하는 디파이 메커니즘." },
  { term: "오라클 (Oracle)", def: "체인링크·파스 등. 현실 세계 가격 데이터를 블록체인으로 가져오는 데이터 브릿지." },
  { term: "MEV", def: "Maximal Extractable Value. 블록 생성자나 봇이 거래 순서를 조작해 뽑아내는 추가 이익." },
  { term: "샌드위치 공격", def: "피해자 거래 앞뒤에 자신의 거래를 끼워 넣어 가격을 조작하고 이익을 취하는 MEV 공격." },
  { term: "PBS", def: "Proposer-Builder Separation. 블록 조립자(빌더)와 블록 제안자(검증자)를 분리하는 플래시봇 아키텍처." },
  { term: "스테이블코인", def: "가치를 특정 자산(주로 달러)에 고정한 암호화폐. 크립토 거래의 기축통화 역할." },
  { term: "죽음의 소용돌이", def: "알고리즘 스테이블코인 붕괴 패턴. 신뢰 하락 → 무한 발행으로 방어 시도 → 더 큰 폭락의 악순환." },
  { term: "RWA", def: "Real World Assets. 국채·주식·부동산 등 실물 자산을 블록체인 토큰으로 만드는 기술." },
  { term: "DAO", def: "Decentralized Autonomous Organization. 스마트 컨트랙트로 의사결정하는 탈중앙화 조직." },
  { term: "타임락 (Timelock)", def: "거버넌스 안건 통과 후 실제 실행까지 대기 시간을 강제하는 보안 장치." },
  { term: "스냅샷 (Snapshot)", def: "투표권을 과거 특정 블록 기준으로 계산해 플래시론 거버넌스 공격을 방지하는 방법." },
  { term: "DePIN", def: "Decentralized Physical Infrastructure Networks. 토큰 인센티브로 개인들이 물리 인프라를 구축하는 모델." },
  { term: "쇼어 알고리즘", def: "양자 컴퓨터로 타원곡선 암호(ECDSA)를 해독하는 알고리즘. 기존 지갑 프라이빗 키 역산 위협." },
  { term: "예측 시장", def: "미래 이벤트에 실제 돈을 베팅해 확률을 형성하는 시장. 폴리마켓이 대표적." }
];

const QUIZ_DATA = [
  { q: "비트코인 채굴에서 채굴자들이 찾아야 하는 것은 무엇인가요?", opts: ["특정 조건을 만족하는 해시값", "가장 큰 소수", "다른 채굴자의 비밀번호", "이더리움 스마트 컨트랙트"], a: 0, fb: "채굴자들은 SHA-256 해시 결과가 네트워크 목표값보다 작은 논스(Nonce)를 찾아야 합니다. 이를 위해 1초에 수조 번씩 숫자를 바꿔가며 시도합니다." },
  { q: "이더리움의 EIP-1559 업그레이드가 ETH를 디플레이션 자산으로 만드는 이유는?", opts: ["ETH 발행 한도를 2,100만 개로 고정", "기본 수수료를 소각(영구 삭제)하기 때문", "채굴 보상을 4년마다 절반으로 줄이기 때문", "스테이킹 이자율을 높였기 때문"], a: 1, fb: "EIP-1559로 기본 수수료(Base Fee)가 채굴자에게 가는 대신 영구 소각됩니다. 네트워크 사용량이 많을수록 더 많은 ETH가 사라져 공급이 줄어듭니다." },
  { q: "솔라나의 역사 증명(PoH)이 해결하는 핵심 문제는?", opts: ["에너지 소비 절감", "전 세계 노드들이 거래 순서를 합의하기 위한 통신 비용", "스마트 컨트랙트 취약점 탐지", "해킹 공격 방지"], a: 1, fb: "PoH는 암호학적 글로벌 시계를 만들어 모든 노드가 같은 시계를 보게 합니다. '이 거래가 저 거래보다 먼저 일어났냐'를 확인하는 통신이 획기적으로 줄어듭니다." },
  { q: "유니스왑 AMM의 x*y=k 공식에서 특정 자산이 희귀해질수록 어떻게 되나요?", opts: ["가격이 일정하게 유지된다", "가격이 선형으로 상승한다", "가격이 기하급수적으로 상승한다", "거래가 중단된다"], a: 2, fb: "곱(k)을 유지해야 하므로 한 자산이 줄어들수록 그 자산의 가격은 기하급수적으로 올라갑니다. 이 슬리피지가 오히려 풀 고갈을 막는 안전장치입니다." },
  { q: "베이시스 트레이딩(Basis Trade)의 핵심 수익원은 무엇인가요?", opts: ["비트코인 가격 상승 차익", "강세장에서 롱 포지션이 숏에게 지급하는 펀딩비", "거래소 수수료 리베이트", "스테이킹 이자"], a: 1, fb: "현물 매수 + 선물 숏으로 가격 방향성을 0(델타 중립)으로 만들면, 비트코인이 오르든 내리든 무관합니다. 강세장에서 롱 포지션이 지급하는 연 50~100%의 펀딩비만 수취합니다." },
  { q: "샌드위치 공격(Sandwich Attack)의 순서를 올바르게 나열하면?", opts: ["피해자 거래 → 프론트런 → 백런", "프론트런 → 피해자 거래 → 백런", "백런 → 피해자 거래 → 프론트런", "프론트런 → 백런 → 피해자 거래"], a: 1, fb: "서처는 (1) 피해자 거래보다 먼저 매수(프론트런)로 가격을 올리고, (2) 피해자 거래가 비싸게 체결되면, (3) 즉시 매도(백런)해 차익을 챙깁니다." },
  { q: "루나(LUNA)/UST 사태에서 '죽음의 소용돌이'가 발생한 핵심 이유는?", opts: ["해킹으로 준비금이 탈취되었기 때문", "담보 없이 알고리즘만으로 페깅을 유지했기 때문", "미국 정부가 거래를 차단했기 때문", "창업자가 준비금을 횡령했기 때문"], a: 1, fb: "UST가 1달러 아래로 떨어지면 LUNA를 발행해 방어하는 구조였습니다. 신뢰가 깨지자 LUNA를 무한 발행 → LUNA 가격 폭락 → UST 신뢰 추가 하락의 악순환이 발생했습니다." },
  { q: "거버넌스 플래시론 공격을 방어하는 핵심 수단은?", opts: ["더 많은 토큰을 소각하기", "스냅샷 블록 고정 + 타임락 적용", "VC에게 거버넌스 권한 부여", "중앙화 관리자 도입"], a: 1, fb: "스냅샷으로 투표권을 과거 블록 기준으로 계산하면 투표 시점에 빌린 플래시론이 투표권이 없습니다. 타임락은 악성 안건이 통과돼도 실행 전 커뮤니티가 대응할 시간을 줍니다." },
  { q: "양자 컴퓨터 위협에서 가장 위험한 비트코인 주소 형식은?", opts: ["bc1p로 시작하는 탭루트 주소", "한 번도 사용하지 않은 주소", "P2PK 형식의 초창기 주소", "bc1q로 시작하는 세그윗 주소"], a: 2, fb: "P2PK 주소는 거래 시 공개키를 체인에 직접 노출합니다. 쇼어 알고리즘은 공개키만 있으면 프라이빗 키를 역산할 수 있습니다. 약 150만 BTC(수백조 원)가 이 형식에 잠들어 있습니다." },
  { q: "하이퍼리퀴드가 dYdX를 이긴 가장 핵심적인 이유는?", opts: ["더 많은 코인 상장", "VC 투자를 받지 않고 수수료 99%를 HYPE 바이백·소각", "미국 규제를 받는 거래소", "이더리움 레이어 2 기술 도입"], a: 1, fb: "dYdX는 수수료 수익을 회사가 독식해 토큰 가치가 없었습니다. 하이퍼리퀴드는 수수료의 99%로 HYPE를 시장에서 매수해 소각하고, VC 없이 커뮤니티 에어드랍을 했습니다. 토큰이 프로토콜 수익과 직결되자 선순환이 발생했습니다." }
];

// BUILD NAV
const navEl = document.getElementById('nav-chapters');
CHAPTERS.forEach((ch, i) => {
  const el = document.createElement('div');
  el.className = 'nav-item';
  el.dataset.idx = i;
  el.innerHTML = `<span class="nav-num">${ch.num}</span><span class="nav-text">${ch.title}</span>`;
  el.addEventListener('click', () => scrollToChapter(i));
  navEl.appendChild(el);
});

// BUILD CHAPTERS
const root = document.getElementById('chapters-root');
CHAPTERS.forEach((ch, idx) => {
  const div = document.createElement('div');
  div.className = 'chapter';
  div.id = `chapter-${idx}`;
  div.style.animationDelay = `${idx * 0.03}s`;

  let sectionsHTML = '';
  ch.sections.forEach(sec => {
    let inner = `<div class="section-body">${sec.body}</div>`;
    if (sec.formula) {
      inner += `<div class="formula">${sec.formula}</div>`;
      if (sec.formulaNote) inner += `<div class="section-body" style="margin-top:8px">${sec.formulaNote}</div>`;
    }
    if (sec.card) {
      inner += `<div class="info-card ${sec.card.type === 'warn' ? 'warn' : sec.card.type === 'success' ? 'success' : ''}"><div class="card-tag">// ${sec.card.tag}</div>${sec.card.text}</div>`;
    }
    if (sec.table) {
      let tbl = `<table class="comp-table"><thead><tr>${sec.table.headers.map(h => `<th>${h}</th>`).join('')}</tr></thead><tbody>`;
      sec.table.rows.forEach(row => {
        tbl += `<tr>${row.map(c => `<td>${c}</td>`).join('')}</tr>`;
      });
      tbl += '</tbody></table>';
      inner += tbl;
    }
    sectionsHTML += `<div class="section"><div class="section-title">${sec.title}</div>${inner}</div><div class="divider"></div>`;
  });

  const kpHTML = ch.keyPoints.map(k => `<div class="key-point"><span class="kp-icon">▸</span><span>${k}</span></div>`).join('');

  div.innerHTML = `
    <div class="chapter-header">
      <div class="chapter-header-left">
        <span class="chapter-num-badge">CH ${ch.num}</span>
        <div class="chapter-title-wrap">
          <div class="chapter-title">${ch.title}</div>
          <div class="chapter-subtitle">${ch.subtitle}</div>
        </div>
      </div>
      <div class="chapter-header-right">
        <button class="complete-btn" data-idx="${idx}">완료 체크 <span class="check-icon">✓</span></button>
      </div>
    </div>
    <div class="key-points">
      <div class="key-points-title">// 핵심 포인트</div>
      ${kpHTML}
    </div>
    ${sectionsHTML}
  `;
  root.appendChild(div);
});

// COMPLETE BUTTONS
const completedSet = new Set();
document.querySelectorAll('.complete-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const idx = parseInt(btn.dataset.idx);
    if (completedSet.has(idx)) {
      completedSet.delete(idx);
      btn.innerHTML = '완료 체크 <span class="check-icon">✓</span>';
      btn.classList.remove('done');
      document.querySelectorAll('.nav-item')[idx].classList.remove('done');
    } else {
      completedSet.add(idx);
      btn.innerHTML = '완료됨 <span class="check-icon">✓</span>';
      btn.classList.add('done');
      document.querySelectorAll('.nav-item')[idx].classList.add('done');
    }
    updateProgress();
  });
});

function updateProgress() {
  const pct = Math.round((completedSet.size / CHAPTERS.length) * 100);
  document.getElementById('progress-fill').style.width = pct + '%';
  document.getElementById('progress-pct').textContent = pct + '%';
}

// SCROLL TRACKING
const mainEl = document.getElementById('main-content');
const isMobile = () => window.innerWidth <= 768;

function getScrollTop() {
  return isMobile() ? window.scrollY : mainEl.scrollTop;
}

function updateActiveNav() {
  const navItems = document.querySelectorAll('.nav-item');
  if (!navItems.length) return;
  const scrollPos = getScrollTop() + 160;
  let activeIdx = 0;
  CHAPTERS.forEach((_, i) => {
    const el = document.getElementById(`chapter-${i}`);
    if (!el) return;
    const elTop = isMobile()
      ? el.getBoundingClientRect().top + window.scrollY
      : el.offsetTop;
    if (elTop <= scrollPos) activeIdx = i;
  });
  navItems.forEach(n => n.classList.remove('active'));
  if (navItems[activeIdx]) navItems[activeIdx].classList.add('active');
}

mainEl.addEventListener('scroll', () => {
  if (isMobile()) return;
  document.getElementById('scroll-top').classList.toggle('visible', mainEl.scrollTop > 200);
  updateActiveNav();
});

window.addEventListener('scroll', () => {
  if (!isMobile()) return;
  document.getElementById('scroll-top').classList.toggle('visible', window.scrollY > 200);
  updateActiveNav();
});

function scrollToChapter(idx) {
  const el = document.getElementById(`chapter-${idx}`);
  if (!el) return;
  if (isMobile()) {
    const targetTop = el.getBoundingClientRect().top + window.scrollY - 72;
    closeSidebar();
    setTimeout(() => window.scrollTo({ top: targetTop, behavior: 'smooth' }), 320);
  } else {
    mainEl.scrollTop = el.offsetTop - 20;
  }
}

document.getElementById('scroll-top').addEventListener('click', () => {
  if (isMobile()) window.scrollTo({ top: 0, behavior: 'smooth' });
  else mainEl.scrollTo({ top: 0, behavior: 'smooth' });
});

// QUIZ
let quizIdx = 0, quizScore = 0, quizAnswered = false;
const shuffled = [...QUIZ_DATA].sort(() => Math.random() - 0.5);

document.getElementById('btn-quiz').addEventListener('click', () => {
  if (window.innerWidth <= 768) closeSidebar();
  document.getElementById('glossary-overlay').classList.remove('open');
  quizIdx = 0; quizScore = 0;
  renderQuiz();
  document.getElementById('quiz-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
});
document.getElementById('quiz-close').addEventListener('click', () => {
  document.getElementById('quiz-overlay').classList.remove('open');
  document.body.style.overflow = '';
});

// 퀴즈 overlay 바깥(배경) 클릭 시 닫기
document.getElementById('quiz-overlay').addEventListener('click', (e) => {
  if (e.target === document.getElementById('quiz-overlay')) {
    document.getElementById('quiz-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }
});

// 용어집 overlay 바깥(어두운 영역) 클릭 시 닫기
document.getElementById('glossary-overlay').addEventListener('click', (e) => {
  if (e.target === document.getElementById('glossary-overlay')) {
    document.getElementById('glossary-overlay').classList.remove('open');
  }
});

function renderQuiz() {
  if (quizIdx >= shuffled.length) {
    document.getElementById('quiz-q').textContent = `🎉 퀴즈 완료! ${shuffled.length}문제 중 ${quizScore}개 정답`;
    document.getElementById('quiz-opts').innerHTML = '';
    document.getElementById('quiz-fb').textContent = quizScore >= 7 ? '훌륭합니다! 크립토 개념을 잘 이해하고 있습니다.' : '조금 더 복습해 보세요. 강의 노트를 다시 확인하면 도움이 됩니다.';
    document.getElementById('quiz-next').textContent = '다시 시작';
    document.getElementById('quiz-prog').textContent = `결과: ${quizScore} / ${shuffled.length}`;
    return;
  }
  quizAnswered = false;
  const q = shuffled[quizIdx];
  document.getElementById('quiz-prog').textContent = `문제 ${quizIdx + 1} / ${shuffled.length}`;
  document.getElementById('quiz-q').textContent = q.q;
  document.getElementById('quiz-fb').textContent = '';
  document.getElementById('quiz-next').textContent = '다음 문제 →';
  const optsEl = document.getElementById('quiz-opts');
  optsEl.innerHTML = '';
  q.opts.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'quiz-opt';
    btn.textContent = opt;
    btn.addEventListener('click', () => {
      if (quizAnswered) return;
      quizAnswered = true;
      optsEl.querySelectorAll('.quiz-opt').forEach((b, j) => {
        if (j === q.a) b.classList.add('correct');
        else if (j === i) b.classList.add('wrong');
      });
      if (i === q.a) quizScore++;
      document.getElementById('quiz-fb').textContent = q.fb;
    });
    optsEl.appendChild(btn);
  });
}

document.getElementById('quiz-next').addEventListener('click', () => {
  if (quizIdx >= shuffled.length) {
    quizIdx = 0; quizScore = 0;
    renderQuiz();
  } else {
    quizIdx++;
    renderQuiz();
  }
});

// GLOSSARY
document.getElementById('btn-glossary').addEventListener('click', () => {
  if (window.innerWidth <= 768) closeSidebar();
  document.getElementById('quiz-overlay').classList.remove('open');
  renderGlossary('');
  document.getElementById('glossary-overlay').classList.add('open');
});
document.getElementById('glossary-close').addEventListener('click', () => document.getElementById('glossary-overlay').classList.remove('open'));
document.getElementById('glossary-search').addEventListener('input', e => renderGlossary(e.target.value));

function renderGlossary(filter) {
  const el = document.getElementById('glossary-list');
  const terms = GLOSSARY_TERMS.filter(t => !filter || t.term.includes(filter) || t.def.includes(filter));
  el.innerHTML = terms.map(t => `<div class="glossary-item"><div class="g-term">${t.term}</div><div class="g-def">${t.def}</div></div>`).join('');
}

// BOTTOM CTA
document.getElementById('cta-quiz').addEventListener('click', () => {
  document.getElementById('glossary-overlay').classList.remove('open');
  quizIdx = 0; quizScore = 0;
  renderQuiz();
  document.getElementById('quiz-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
});
document.getElementById('cta-glossary').addEventListener('click', () => {
  document.getElementById('quiz-overlay').classList.remove('open');
  renderGlossary('');
  document.getElementById('glossary-overlay').classList.add('open');
});

// HAMBURGER MENU
const hamburger = document.getElementById('hamburger');
const sidebar = document.querySelector('.sidebar');
const backdrop = document.getElementById('sidebar-backdrop');

function openSidebar() {
  sidebar.classList.add('open');
  backdrop.classList.add('open');
  hamburger.classList.add('open');
  updateActiveNav();
}

function closeSidebar() {
  sidebar.classList.remove('open');
  backdrop.classList.remove('open');
  hamburger.classList.remove('open');
}

hamburger.addEventListener('click', () => {
  sidebar.classList.contains('open') ? closeSidebar() : openSidebar();
});

backdrop.addEventListener('click', closeSidebar);

// 모바일에서 챕터 클릭 시 closeSidebar는 scrollToChapter 내부에서 처리
</script>
</body>
</html>
